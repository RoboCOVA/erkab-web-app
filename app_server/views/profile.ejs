<!DOCTYPE html>
<!--[if lt IE 9 ]>
<html class="no-js oldie" lang="en"> <![endif]-->
<!--[if IE 9 ]>
<html class="no-js oldie ie9" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>

    <!--- basic page needs
   ================================================== -->
    <meta charset="utf-8">
    <title><%= user.firstName %>'s Profile - Erkab</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- mobile specific metas
   ================================================== -->
    <!--<meta name="viewport" content="width=device-width, initial-scale=1">-->
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>

    <!-- CSS
   ================================================== -->
    <link rel="stylesheet" href="/public/css/base.css">
    <link rel="stylesheet" href="/public/css/bootstrap.css">
    <link rel="stylesheet" href="/public/css/main.css">
    <link rel="stylesheet" href="/public/css/erkab.css">

    <!-- script
   ================================================== -->
    <script src="/public/js/modernizr.js"></script>

    <!-- favicons
	================================================== -->
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">

</head>

<body>

<% include templates/header.ejs %>

<!-- START OF CHANGEABLE VIEW -->
<div id="changeableView" class="container-fluid">

    <h1 class="container text-center uppercase main-title"><%= user.firstName %>'s Account</h1>
    <div class="row">
        <!-- edit form column -->
        <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4 text-center edit-profile-col">
            <div class="sticky-div edit-profile-sticky-div">
                <h3 class="main-title uppercase text-white"><i class="fa fa-pencil-square-o"></i> Edit Profile</h3>
                <hr class="edit-profile-hr">
            </div>
            <form action="/profile" method="post">

                <label class="text-white uppercase">First Name</label><br>
                <input name="firstName" type="text" class="input-margin-auto" value="<%= user.firstName %>">
                <br>

                <label class="text-white uppercase">Last Name</label><br>
                <input name="lastName" type="text" class="input-margin-auto" value="<%= user.lastName %>">
                <br>

                <!-- Email uneditable -->
                <label class="text-white uppercase">Email</label><br>
                <input type="email" class="input-margin-auto" value="<%= user.email %>" disabled>
                <br>

                <label class="text-white uppercase">Mobile Number</label><br>
                <!-- Should send verification message. -->
                <input name="mobileNum" type="tel" class="input-margin-auto" value="<%= user.mobileNum %>">
                <br>

                <!-- College ID uneditable -->
                <label class="text-white uppercase">College ID</label><br>
                <input type="number" class="input-margin-auto" value="<%= user.collegeId %>" disabled>
                <br>

                <!-- Should validate old and new password to see if they match onblur/onsubmit -->
                <label class="text-white uppercase">Old Password</label><br>
                <input name="oldPassword" type="password" class="input-margin-auto">
                <br>

                <label class="text-white uppercase">New Password</label><br>
                <input name="newPassword" type="password" class="input-margin-auto">
                <br>
                <div id="save-cancel-btn-group" class="btn-group" role="group">
                    <button id="saveBtn" type="submit" class="btn btn-edited uppercase">Save Changes</button>
                    <button id="cancelBtn" type="reset" class="btn btn-danger uppercase"><i
                                class="fa fa-ban"></i></button>
                </div>
            </form>
        </div>

        <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
            <!-- Add table here -->
            <div class="sticky-div">
                <h3 class="main-title uppercase text-center"><i class="fa fa-suitcase"></i> Your Trips</h3>
                <hr class="edit-profile-hr">
            </div>

            <table class="table table-hover">
                <thead class="thead">
                <tr>
                    <th class="trip-table-th">#</th>
                    <th class="trip-table-th">USER TYPE</th>
                    <th class="trip-table-th">LOCATION</th>
                    <th class="trip-table-th">DATE</th>
                    <th class="trip-table-th">TIME</th>
                </tr>
                </thead>
                <tbody class="text-center">
                <tr>
                    <% for(var i = 0; i < person.rideHistory.length; i++) { %>
                <tr>
                    <th scope="row"><%= i + 1 %></th>
                    <td><%= person.rideHistory[i].userType %></td>
                    <td><%= person.rideHistory[i].area %></td>
                    <td><%= person.rideHistory[i].date %></td>
                    <td><%= person.rideHistory[i].time %></td>
                </tr>
                <% } %>
                </tbody>
            </table>
        </div>
    </div>
    <!-- END OF CHANGEABLE VIEW -->

    <% include templates/preloader.ejs %>

    <!-- Java Script
    ================================================== -->
    <script src="/public/js/jquery-2.1.3.min.js"></script>
    <script src="/public/js/main.js"></script>
</body>
</html>